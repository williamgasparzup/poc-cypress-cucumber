!function(e){function t(t){for(var a,l,c=t[0],i=t[1],u=t[2],f=0,p=[];f<c.length;f++)l=c[f],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&p.push(r[l][0]),r[l]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(s&&s(t);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(a=!1)}a&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},r={0:0},o=[];function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=i;o.push([89,1]),n()}({83:function(e,t,n){var a=n(84),r=n(85);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},85:function(e,t,n){(t=n(86)(!1)).push([e.i,"body{margin:0px;min-height:100vh;overflow-x:hidden;background-image:radial-gradient(200% 200% at 100% 100%, transparent 50%, #f5f5f5 20%),radial-gradient(200% 200% at 0% 0%, transparent 50%, #f5f5f5 20%);background-attachment:fixed;background-size:cover;background-position:top;background-origin:border-box;background-repeat:no-repeat}#root{position:relative}\n",""]),e.exports=t},89:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),l=n.n(o),c=n(62),i=n(133),u=n(119),s=n(132),f=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},p=Object(a.createContext)({columns:{value:3,setValue:function(){}},adjust:{value:!0,setValue:function(){}},searchText:{value:"",setValue:function(){}}}),d=function(){return f(Object(a.useContext)(p),[])},m=n(64),h=n(137),v=n(126),g=n(125),b=n(139),y=n(134),E=n(140),O=n(127),j=n(136),x=n(55);var w=function(e){var t=Object(a.useRef)(document.body),n=e.offset,r=void 0===n?300:n,o=e.onReachEnd,l=Object(a.useCallback)((function(){var e=t.current.getBoundingClientRect(),n=e.height,a=e.top;r>=n-(window.innerHeight-a)&&o()}),[r,o]);Object(a.useEffect)((function(){return t.current.onscroll=function(e,t){void 0===t&&(t=300);var n=0;return function(a){return clearTimeout(n),n=window.setTimeout((function(){return e(a)}),t)}}(l,300),function(){t.current.onscroll=function(){}}}),[l])},k=function(e,t){var n=Object(a.useState)(e),r=n[0],o=n[1];w({onReachEnd:function(){return!t&&o(r+1)}});var l=Object(a.useCallback)((function(){o(e)}),[e]);return[r,l]},P=function(e,t){for(var n=[],a=function(t){-1===n.findIndex((function(n){return n[e]===t[e]}))&&n.push(t)},r=0,o=t;r<o.length;r++){a(o[r])}return n},C=function(){return(C=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},S=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],l=0,c=o.length;l<c;l++,r++)a[r]=o[l];return a},T=function(e,t,n){if(!n)return e.map((function(e){return C(C({},e),{cols:1})}));for(var a,r=new Map,o=Math.max(t-1,1),l=0,c=e;l<c.length;l++){var i=c[l],u=r.size-1,s=i.width>i.height?2:1;if(u<0)r.set(0,[C(C({},i),{cols:s})]);else{var f=r.get(u),p=(void 0===(a=f)&&(a=[]),a.reduce((function(e,t){return e+t.cols}),0));if(!f)continue;p===o?r.set(u,S(f,[C(C({},i),{cols:1})])):p<o?r.set(u,S(f,[C(C({},i),{cols:s})])):r.set(u+1,[C(C({},i),{cols:s})])}}return Array.from(r).reduce((function(e,t){var n=t[1];return S(e,n)}),[])},M=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],l=0,c=o.length;l<c;l++,r++)a[r]=o[l];return a},N=Object(x.a)("563492ad6f91700001000001b1b38ab022d04484b01a3d2b79f89470").photos,_=function(){window.scrollTo({top:0,behavior:"smooth"})},I=n(60),V=n.n(I),R=n(59),A=n.n(R),B=Object(u.a)((function(e){return{header:{padding:e.spacing(2),display:"grid",gridTemplateColumns:"0.5fr 3fr 2fr 1fr 1fr",gridTemplateRows:"64px",alignItems:"center",gridGap:"48px",position:"sticky",background:e.palette.background.paper,borderBottom:"1px solid #eeeeee",top:0,zIndex:1},title:{display:"grid",flexDirection:"column",gridTemplateColumns:"auto 1fr",gridGap:"6px",alignItems:"center",cursor:"pointer"},titleLabel:{fontWeight:400}}})),D=function(){var e=B(),t=d(),n=t.adjust,a=t.searchText,o=t.columns;return r.a.createElement("div",{className:e.header},r.a.createElement("div",{className:e.title,onClick:_},r.a.createElement(A.a,{color:"secondary"}),r.a.createElement(m.a,{variant:"h5",align:"left",color:"primary",className:e.titleLabel},"PhotoGram")),r.a.createElement(h.a,{autoFocus:!0,value:a.value,name:"search-input",placeholder:"Search (e.g.: ocean, sky, life, etc...)",type:"search",InputProps:{startAdornment:r.a.createElement(v.a,{position:"start"},r.a.createElement(V.a,null))},variant:"outlined",onChange:function(e){return a.setValue(e.target.value)}}),r.a.createElement("div",null),r.a.createElement(g.a,{variant:"outlined"},r.a.createElement(b.a,{id:"select-label"},"Columns"),r.a.createElement(y.a,{labelId:"select-label",id:"columns-select",value:o.value,MenuProps:{id:"columns-select-menu",role:"select"},onChange:function(e){o.setValue(Number(e.target.value))},label:"Age"},r.a.createElement(E.a,{value:1},"One"),r.a.createElement(E.a,{value:2},"Two"),r.a.createElement(E.a,{value:3},"Three"),r.a.createElement(E.a,{value:4},"Four"))),r.a.createElement(O.a,{control:r.a.createElement(j.a,{checked:n.value,onChange:function(){return n.setValue((function(e){return!e}))},name:"switch-layout"}),label:"Dynamic layout"}))},G=n(128),H=n(129),z=n(131),F=n(130),J=function(){return(J=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},L={id:0,liked:!1,src:{landscape:"",large:"",large2x:"",medium:"",original:"",portrait:"",small:"",tiny:""},height:0,width:0,photographer:"",photographer_id:"",photographer_url:"",url:""},W=Object(u.a)((function(){return{container:{display:"flex",flexDirection:"column",paddingBottom:128,alignItems:"center",minHeight:"calc(100vh - 225px)"},loadingContainer:{minHeight:64},root:{flexGrow:1,position:"relative"},wrapper:{display:"flex",flex:1,justifyContent:"center",padding:"48px 0"},list:{maxWidth:1440,width:"100%",transform:"translateZ(0)"},item:{border:"1px solid #bdbdbd",borderRadius:"6px",flex:1},nothing:{margin:"48px 0"}}})),q=function(){var e=W(),t=d(),n=t.searchText,o=t.adjust,l=t.columns,c=function(e,t,n){void 0===e&&(e="");var r=Object(a.useState)([]),o=r[0],l=r[1],c=Object(a.useState)(!1),i=c[0],u=c[1],s=Object(a.useState)(!1),f=s[0],p=s[1],d=k(1,i),m=d[0],h=d[1],v=Object(a.useRef)(e),g=Object(a.useRef)(m),b=Object(a.useCallback)((function(e,t){v.current=e;var n=t||1;return e?N.search({query:e,per_page:10,page:n}):N.curated({per_page:10,page:n})}),[]);return Object(a.useEffect)((function(){return u(!0),b(e).then((function(e){"photos"in e&&l(e.photos)})).then(_).finally((function(){return u(!1)})),h}),[e,b,h]),Object(a.useEffect)((function(){m!==g.current&&(p(!0),b(v.current,m).then((function(e){"photos"in e&&l((function(t){return P("id",M(t,e.photos))}))})).finally((function(){return p(!1)})),g.current=m)}),[b,m]),[T(o,t,n),i,f]}(function(e,t){void 0===t&&(t=300);var n=Object(a.useState)(e),r=n[0],o=n[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){return o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r}(n.value),l.value,o.value),i=c[0],u=c[1],s=c[2],f=T(new Array(10).fill(L).map((function(e,t){var n=Boolean(Math.round(Math.random()));return J(J({},e),{id:t,width:n?1920:1080,height:n?1080:1920})})),l.value,o.value),p=Object(a.useMemo)((function(){return r.a.createElement(G.a,{spacing:16,cellHeight:400,cols:Math.min(i.length,l.value)},i.map((function(t){return r.a.createElement(H.a,{key:t.id,rows:1,cols:Math.min(i.length,t.cols),classes:{tile:e.item}},r.a.createElement("img",{draggable:!1,id:"photo-"+t.id,src:l.value>1&&1===t.cols?t.src.portrait:t.src.landscape,alt:t.photographer}))})))}),[i,l.value,o.value]),h=Object(a.useMemo)((function(){return r.a.createElement(G.a,{spacing:16,cellHeight:400,cols:l.value},f.map((function(t){return r.a.createElement(H.a,{key:t.id,rows:1,cols:t.cols,classes:{tile:e.item}},r.a.createElement(F.a,{animation:"wave",variant:"rect",width:t.width,height:t.height}))})))}),[l.value,o.value]),v=Object(a.useMemo)((function(){return n.value&&r.a.createElement(m.a,{className:e.nothing,variant:"h4"},'No results have been found for "'+n.value+'".')}),[n.value]);return r.a.createElement("div",{className:e.container},r.a.createElement("div",{className:e.wrapper},r.a.createElement("div",{className:e.list},r.a.createElement("div",{hidden:u},p),r.a.createElement("div",{hidden:!u},h),r.a.createElement("div",{hidden:!(!i.length&&!u&&!s)},v))),r.a.createElement("div",{className:e.loadingContainer},r.a.createElement("div",{hidden:!s},r.a.createElement(z.a,null))))},Z=Object(u.a)((function(){return{container:{display:"flex",position:"absolute",bottom:"0",left:"0",right:"0",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:24},link:{marginBottom:12,textDecoration:"none",color:"initial"}}})),K=function(){var e=Z();return r.a.createElement("div",{className:e.container},r.a.createElement("a",{className:e.link,href:"https://www.pexels.com"},r.a.createElement(m.a,null,"Photos provided by Pexels")),r.a.createElement("a",{href:"https://www.pexels.com"},r.a.createElement("img",{height:36,src:"https://images.pexels.com/lib/api/pexels.png"})))},Q=Object(u.a)((function(){return{root:{flexGrow:1,position:"relative"}}})),U=function(){var e=Object(a.useState)(""),t=e[0],n=e[1],o=Object(a.useState)(3),l=o[0],c=o[1],i=Object(a.useState)(!0),u=i[0],f=i[1],d=Q(),m={adjust:{value:u,setValue:f},searchText:{value:t,setValue:n},columns:{value:l,setValue:c}};return r.a.createElement(p.Provider,{value:m},r.a.createElement(s.a,{className:d.root},r.a.createElement(D,null),r.a.createElement(q,null)),r.a.createElement(K,null))},X=n(61),Y=n(10),$=(n(83),Object(c.a)({palette:{primary:{main:"#022965"},secondary:{main:"#a20000"}}}));l.a.render(r.a.createElement((function(){return r.a.createElement(i.a,{theme:$},r.a.createElement(X.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,{path:"/",component:U}),r.a.createElement(Y.a,{path:"/search",component:U}))))}),null),document.getElementById("root"))}});